[gd_scene load_steps=16 format=2]

[ext_resource path="res://Models/T_GradientTexture_01.tga" type="Texture" id=1]
[ext_resource path="res://Models/RollingStock/Gradiant.material" type="Material" id=2]
[ext_resource path="res://Models/SM_LocomotiveTender_01.obj" type="ArrayMesh" id=3]
[ext_resource path="res://Scripts/RailGridMap.gd" type="Script" id=4]
[ext_resource path="res://rails.tres" type="MeshLibrary" id=5]
[ext_resource path="res://Models/RollingStock/Animated_Locomotive.tscn" type="PackedScene" id=6]
[ext_resource path="res://Models/RollingStock/SM_PassengerCar_02.obj" type="ArrayMesh" id=7]
[ext_resource path="res://Scenes/Rails.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scripts/GridMapPlacer.gd" type="Script" id=9]
[ext_resource path="res://availability.tres" type="MeshLibrary" id=10]
[ext_resource path="res://Scripts/2DTopDownPort.gd" type="Script" id=11]

[sub_resource type="Curve3D" id=1]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, -6.0529, -0.25264, -42.2778, 0, 0, 0, -0.0170422, 0, 1.10532, -6.05555, -0.25, -25.2338 ),
"tilts": PoolRealArray( 0, 0 )
}

[sub_resource type="SpatialMaterial" id=2]
albedo_texture = ExtResource( 1 )

[sub_resource type="PlaneMesh" id=3]

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.231373, 0.431373, 0.286275, 1 )

[node name="2DTopDownPort" type="Viewport"]
size = Vector2( 1920, 1080 )
transparent_bg = true
render_target_v_flip = true
shadow_atlas_size = 1
script = ExtResource( 11 )

[node name="GridMapPlacer" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 26.0227, 3.8147e-06, 17.5889 )
script = ExtResource( 9 )

[node name="GridMap" type="GridMap" parent="GridMapPlacer"]
mesh_library = ExtResource( 5 )
cell_size = Vector3( 4, 1, 4 )
data = {
"cells": PoolIntArray( -65542, 65525, 5, -2, 65525, 4, -2, 65526, 4, -2, 65527, 4, -2, 65528, 4, -2, 65529, 4 )
}
script = ExtResource( 4 )
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, -1, 0 )
}

[node name="Path" type="Path" parent="GridMapPlacer/GridMap"]
curve = SubResource( 1 )

[node name="PathFollow" type="PathFollow" parent="GridMapPlacer/GridMap/Path"]
transform = Transform( 1, -7.21131e-08, -0.000154203, 9.60062e-08, 1, 0.000154944, 0.000154204, -0.000154945, 0.999994, -6.0551, -0.250446, -28.1142 )
offset = 14.14
rotation_mode = 4

[node name="Animated_Locomotive" parent="GridMapPlacer/GridMap/Path/PathFollow" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )

[node name="PathFollow2" type="PathFollow" parent="GridMapPlacer/GridMap/Path"]
transform = Transform( 1, 2.04333e-08, -0.000157536, 3.96175e-09, 1, 0.000154851, 0.000157537, -0.000154852, 0.999993, -6.05455, -0.250992, -31.6355 )
offset = 10.62
rotation_mode = 4

[node name="SM_Locomotive_01(3)" type="MeshInstance" parent="GridMapPlacer/GridMap/Path/PathFollow2"]
mesh = ExtResource( 3 )
material/0 = SubResource( 2 )

[node name="PathFollow3" type="PathFollow" parent="GridMapPlacer/GridMap/Path"]
transform = Transform( 1, -5.55471e-08, -0.000156189, 7.97347e-08, 1, 0.000154858, 0.000156191, -0.00015486, 0.99999, -6.05388, -0.251661, -35.958 )
offset = 6.31
rotation_mode = 4

[node name="SM_PassengerCar_01" type="MeshInstance" parent="GridMapPlacer/GridMap/Path/PathFollow3"]
transform = Transform( 1, -3.81761e-09, 3.08199e-05, 4.77204e-09, 1, -3.0968e-05, -3.08199e-05, 3.0968e-05, 1, 0, 0, 0 )
mesh = ExtResource( 7 )
skeleton = NodePath("")
material/0 = ExtResource( 2 )

[node name="PathFollow4" type="PathFollow" parent="GridMapPlacer/GridMap/Path"]
transform = Transform( 1, -1.51054e-08, -0.000154725, 3.91166e-08, 1, 0.000155171, 0.000154732, -0.000155179, 0.999951, -6.05299, -0.252553, -41.7172 )
offset = 0.56
rotation_mode = 4

[node name="SM_PassengerCar_01" type="MeshInstance" parent="GridMapPlacer/GridMap/Path/PathFollow4"]
transform = Transform( 1, -3.79898e-09, 3.06481e-05, 4.74881e-09, 1, -3.09912e-05, -3.06481e-05, 3.09912e-05, 1, 0, 0, 0 )
mesh = ExtResource( 7 )
skeleton = NodePath("")
material/0 = ExtResource( 2 )

[node name="Rails" parent="GridMapPlacer/GridMap" instance=ExtResource( 8 )]
visible = false

[node name="AvailabilityMap" type="GridMap" parent="GridMapPlacer"]
mesh_library = ExtResource( 10 )
cell_size = Vector3( 4, 0.5, 4 )
data = {
"cells": PoolIntArray(  )
}
__meta__ = {
"_editor_clip_": 0
}

[node name="Camera" type="Camera" parent="."]
transform = Transform( -4.37114e-08, 0.866019, -0.500011, 0, 0.500011, 0.866019, 1, 3.78549e-08, -2.18562e-08, 13.461, 20.408, 0 )
keep_aspect = 0
cull_mask = 1
projection = 1
current = true
size = 75.0

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 111.7, 0, 0, 0, 1, 0, 0, 0, 111.7, 0, -0.492, 0 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.707107, -0.5, 0.5, 0, 0.707107, 0.707107, -0.707107, -0.5, 0.5, 0, 15, 0 )
shadow_enabled = true
